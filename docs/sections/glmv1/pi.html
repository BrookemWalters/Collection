<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Brooke Walter’s Portfolio -</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../sections/reflections/reflections_main.html" rel="next">
<link href="../../sections/dataviz/viz_placeholder.html" rel="prev">
<link href="../../images/logos/favicon2.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Brooke Walter’s Portfolio -">
<meta property="og:description" content="">
<meta property="og:image" content="https://brookemwalters.github.io/Collection/images/logos/logo_white.png">
<meta property="og:site-name" content="Brooke Walter's Portfolio">
<meta property="og:image:height" content="399">
<meta property="og:image:width" content="1026">
</head>

<body class="nav-sidebar docked fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../sections/dataviz/viz_placeholder.html">projects</a></li><li class="breadcrumb-item"><a href="../../sections/glmv1/pi.html">Time Series Forecasting</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      <img src="../../images/logos/logo1.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/BrookemWalters/collection" title="gitHub organization" class="quarto-navigation-tool px-1" aria-label="gitHub organization"><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/in/bmwlters" title="LinkedIn" class="quarto-navigation-tool px-1" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>
    <div class="dropdown">
      <a href="" title="pitch" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="pitch"><i class="bi bi-person-fill"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../../about_me.html">
            about me
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../../sections/reflections/pitch.html">
            portfolio pitch
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="../../sections/reflections/goals.html">
            portfolio goals
            </a>
          </li>
      </ul>
    </div>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">projects</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sections/dataviz/viz_placeholder.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview_Draft</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sections/glmv1/pi.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Time Series Forecasting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://brookemwalters.github.io/Nimby_Site/Final%20Report.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Crime in Coloardo</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">reflections</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sections/reflections/reflections_main.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">collection of reflections</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sections/reflections/knowledge/knowledge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">knowledge</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../sections/references/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">references</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">



<p><img src="../..\images/logos/logo_white.png" class="img-fluid"></p>
<p>DRAFT DRAFT LESS OUTLINE MORE WRITING</p>
<section id="project-overview" class="level1">
<h1>Project Overview</h1>
<p>Throughout this project, I showcase the practical application of predictive analytics by utilizing statistical methods. I focus on unraveling temporal sales patterns to anticipate future consumer demand. Ultimately, this project demonstrates how analytics fuels the decision-making processes with forecasts and strategic insights.</p>
<p>While the primary aim of the project is demonstrating the foundations of statically modeling, it also serves as a platform for expanding other essential data science competencies. Leveraging R, I’ve not only engineered novel data sets, but also enhanced my knowledge in the areas of data wrangling and visualization design.</p>
<p>Overall, this project showcases more than current competencies; rather, it represents my potential for continuous growth and adaptability in the ever-evolving field of data science and machine learning. It marks the acquisition of new skills developed over the course of the semester, complementing years spent cultivating my craft of compelling data storytelling.</p>
<p><strong>goal</strong>: forecast the inventory for the upcoming year</p>
<p><strong>limitations</strong>: ideally, time series predictions benefit from multi-year trending data sets. However, the data for this project encompasses merely 54 weeks.</p>
<p>Additionally, my understanding of the data is constrained. For this project, I made certain assumptions about the timeframe and inventory type. In practical scenarios, thorough consultation and collaboration are essential components of any predictive analytics project.</p>
<p><img src="../..\images/AdobeStock_184864827.jpeg" class="img-fluid"></p>
<p><br>
<strong>this report contains:</strong></p>
<ul>
<li><strong>Data Processing</strong>:
<ul>
<li>feature engineering</li>
<li>data splitting into training and testing sets</li>
</ul></li>
<li><strong>Model Development</strong>:
<ul>
<li>step-wise model selection methodology</li>
</ul></li>
<li><strong>Analytics and Evaluation</strong>:
<ul>
<li>exploratory and descriptive analytics</li>
<li>interpretation and evaluation of model outcomes</li>
</ul></li>
</ul>
<p><br>
</p>
<section id="initial-insights" class="level2">
<h2 class="anchored" data-anchor-id="initial-insights">Initial Insights:</h2>
<p>The provided inventory data set contains 488 items sold over the course of 54 weeks (0-53), with a total of ~ 1.3 million units sold.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>hist <span class="ot">&lt;-</span> sai <span class="sc">%&gt;%</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(item_no) <span class="sc">%&gt;%</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_sold =</span> <span class="fu">sum</span>(sold)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> total_sold)) <span class="sc">+</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">2100</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"#7D998F"</span>, </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">alpha =</span> .<span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>()) <span class="sc">+</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Number of Items Sold"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>, </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Number of Items Sold by Item Type"</span>, </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span>  <span class="st">" figure 1.1"</span>)<span class="sc">+</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_art_nouveau</span>()</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>hist1 <span class="ot">&lt;-</span> sai <span class="sc">%&gt;%</span> </span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(week) <span class="sc">%&gt;%</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_sold =</span> <span class="fu">sum</span>(sold)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> total_sold)) <span class="sc">+</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span>  <span class="dv">2100</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"#DF5875"</span>, </span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>                 <span class="at">alpha =</span> .<span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>()) <span class="sc">+</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_y_continuous</span>(<span class="at">position =</span> <span class="st">"right"</span>) <span class="sc">+</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Number of Items Sold"</span>, </span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Number of Items Sold by Week"</span>,</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span>  <span class="st">" figure 1.2"</span>)<span class="sc">+</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_art_nouveau</span>()</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="co"># display the histograms side by side</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(hist, hist1, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="pi_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<section id="figure-1.-the-histograms-demonstrate-the-distribution-of-the-dataset-by-variable.-the-green-histogram-demonstrates-the-frequency-of-each-item-sold-with-most-items-ranging-between-500-and-1300-in-total.-the-pink-histogram-conveys-the-temporal-dispersion-of-weekly-sales.-both-graphs-exhibit-a-right-skew-particularly-pronounced-in-the-green-histogram-implying-a-scarcity-of-high-sales-items-or-weeks." class="level6">
<h6 class="anchored" data-anchor-id="figure-1.-the-histograms-demonstrate-the-distribution-of-the-dataset-by-variable.-the-green-histogram-demonstrates-the-frequency-of-each-item-sold-with-most-items-ranging-between-500-and-1300-in-total.-the-pink-histogram-conveys-the-temporal-dispersion-of-weekly-sales.-both-graphs-exhibit-a-right-skew-particularly-pronounced-in-the-green-histogram-implying-a-scarcity-of-high-sales-items-or-weeks."><strong>figure 1.</strong> <em>The histograms demonstrate the distribution of the dataset by variable. The green histogram demonstrates the frequency of each item sold, with most items ranging between 500 and 1300 in total. The pink histogram conveys the temporal dispersion of weekly sales. Both graphs exhibit a right skew, particularly pronounced in the green histogram, implying a scarcity of high-sales items or weeks.</em></h6>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>line1 <span class="ot">&lt;-</span> sai <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(week) <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_sold =</span> <span class="fu">sum</span>(sold)) <span class="sc">%&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> week, <span class="at">y =</span> total_sold)) <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">2</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"#DF5875"</span>) <span class="sc">+</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">"#DF5875"</span>)<span class="sc">+</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">fill =</span> <span class="st">"#DF5875"</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">55</span>, <span class="at">by =</span> <span class="dv">5</span>)) <span class="sc">+</span> </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>()) <span class="sc">+</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"week"</span>, <span class="at">y =</span> <span class="st">"Count of Items Sold"</span>, </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Number of Items Sold by Week"</span>,</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span>  <span class="st">" figure 2"</span>)<span class="sc">+</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_art_nouveau</span>()</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>line1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="pi_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="960"></p>
</div>
</div>
</section>
<section id="figure-2.-the-line-graph-shows-annual-sales-trends-in-the-unprocessed-data-set.-weekly-sales-fluctuate-within-a-range-of-10000-to-50000-items-with-the-majority-hovering-between-20k-and-30k-units-sold.-a-distinct-sales-peak-is-observed-in-week-20-while-week-46-registers-the-slowest-sales-activity.-this-trend-analysis-aids-in-identifying-key-sales-periods-and-provides-valuable-context-for-refining-our-predictive-models" class="level6">
<h6 class="anchored" data-anchor-id="figure-2.-the-line-graph-shows-annual-sales-trends-in-the-unprocessed-data-set.-weekly-sales-fluctuate-within-a-range-of-10000-to-50000-items-with-the-majority-hovering-between-20k-and-30k-units-sold.-a-distinct-sales-peak-is-observed-in-week-20-while-week-46-registers-the-slowest-sales-activity.-this-trend-analysis-aids-in-identifying-key-sales-periods-and-provides-valuable-context-for-refining-our-predictive-models"><strong>figure 2.</strong> <em>The line graph shows annual sales trends in the unprocessed data set. Weekly sales fluctuate within a range of 10,000 to 50,000 items, with the majority hovering between ~20k and ~30k units sold. A distinct sales peak is observed in week 20, while week 46 registers the slowest sales activity. This trend analysis aids in identifying key sales periods and provides valuable context for refining our predictive models</em></h6>
</section>
</section>
<section id="feature-engineering" class="level2">
<h2 class="anchored" data-anchor-id="feature-engineering">Feature engineering</h2>
<p>I crafted new variables to derive a better understanding of sales trends, with the hope of enhancing the predictive model’s performanc. These variables provide valuable insights into sales trends, seasonality, and best-selling items, which can be used to enhance the predictive model’s performance and gain a better understanding of the data’s dynamics. Ideally, meeting with domain experts would be part of this process, to ensure the variables represent reality.</p>
<section id="data-dictionary" class="level3">
<h3 class="anchored" data-anchor-id="data-dictionary">data dictionary</h3>
<ul>
<li><strong>item_no</strong>: the unique identifier for each item</li>
<li><strong>week</strong>: the week number. “sold”: number of items sold during a specific week</li>
<li><strong>year_total</strong>:the total number of items sold for each item over the entire year</li>
<li><strong>best_seller</strong>: A binary variable indicating whether the item is one of the top ten best-selling items based on volume</li>
<li><strong>date</strong>: The specific date corresponding to a week</li>
<li><strong>month</strong>: the month corresponding to a specific week</li>
<li><strong>lag1</strong>: period for capturing seasonality or time-dependent patterns, item’s sold from the previous week</li>
<li><strong>lag2</strong>: item’s sold from two-weeks prior</li>
<li><strong>rolling_4wk_avg</strong>:rolling four-week average for each item, calculated as the total number of items sold over the past four weeks</li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># total yearly sales for each item</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>inventory_sum <span class="ot">&lt;-</span> sai <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(item_no) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">year_total =</span> <span class="fu">sum</span>(sold), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>sai <span class="ot">&lt;-</span> <span class="fu">left_join</span>(sai, inventory_sum, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"item_no"</span>))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="do">###</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the top 10% threshold</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>top_10_threshold <span class="ot">&lt;-</span> <span class="fu">quantile</span>(sai<span class="sc">$</span>year_total, <span class="fl">0.9</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co"># dummy variable for bestsellers 1= yes 0 = no</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>sai <span class="ot">&lt;-</span> sai <span class="sc">%&gt;%</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">best_seller =</span> <span class="fu">ifelse</span>(year_total <span class="sc">&gt;=</span> top_10_threshold, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="do">## figure out month an year for data, assuming the data is from  2022</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co"># week 0: December 27, 2021 - January 2, 2022</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="co"># week 52: December 19, 2022 - December 25, 2022</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co"># week 53: December 26, 2022 - January 1, 2023</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>sai<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="dv">2022</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>sai <span class="ot">&lt;-</span> sai <span class="sc">%&gt;%</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">calendar_week =</span> <span class="fu">ifelse</span>(week <span class="sc">==</span> <span class="dv">0</span>, <span class="dv">52</span>, <span class="fu">ifelse</span>(week <span class="sc">==</span> <span class="dv">53</span>, <span class="dv">1</span>, week)),</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">calendar_year =</span> <span class="fu">ifelse</span>(week <span class="sc">==</span> <span class="dv">0</span>, year <span class="sc">-</span> <span class="dv">1</span>, <span class="fu">ifelse</span>(week <span class="sc">==</span> <span class="dv">53</span>, year <span class="sc">+</span> <span class="dv">1</span>, year)))</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Now use calendar_year and calendar_week in the MMWRweek2Date function</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>sai<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">MMWRweek2Date</span>(sai<span class="sc">$</span>calendar_year, sai<span class="sc">$</span>calendar_week)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a><span class="co"># find the year the week ends in, so we can figure out months</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>sai <span class="ot">&lt;-</span> sai <span class="sc">%&gt;%</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wk_ending_year =</span> <span class="fu">ifelse</span>(week <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">53</span>), year <span class="sc">+</span> <span class="dv">1</span>, year),</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>         <span class="at">week =</span> <span class="fu">ifelse</span>(week <span class="sc">==</span> <span class="dv">53</span>, <span class="dv">1</span>, week))</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a><span class="co"># create teh data and extract the month</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="co"># wanted month to be quantitative to reduce model complexity</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>sai<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">MMWRweek2Date</span>(sai<span class="sc">$</span>wk_ending_year, sai<span class="sc">$</span>calendar_week)</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>sai<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">month</span>(sai<span class="sc">$</span>date, <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>sai<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">month</span>(sai<span class="sc">$</span>date)</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a><span class="co"># create lag periods</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.youtube.com/watch?v=Kn3llTjYS5E</span></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>sai <span class="ot">&lt;-</span> sai <span class="sc">%&gt;%</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lag1 =</span> <span class="fu">lag</span>(sold, <span class="dv">1</span>),</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>         <span class="at">lag2 =</span> <span class="fu">lag</span>(sold, <span class="dv">2</span>))</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a><span class="co"># https://www.rdocumentation.org/packages/zoo/versions/1.8-12/topics/rollmean</span></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>sai <span class="ot">&lt;-</span> sai <span class="sc">%&gt;%</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(item_no) <span class="sc">%&gt;%</span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rolling_4wk_avg =</span> zoo<span class="sc">::</span><span class="fu">rollmean</span>(sold, <span class="at">k =</span> <span class="dv">4</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">align =</span> <span class="st">"right"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(sai, <span class="st">"FEinventory.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>month_abbreviations <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Jan"</span>, <span class="st">"Feb"</span>, <span class="st">"Mar"</span>, <span class="st">"Apr"</span>, <span class="st">"May"</span>, <span class="st">"Jun"</span>, <span class="st">"Jul"</span>, <span class="st">"Aug"</span>, <span class="st">"Sep"</span>, <span class="st">"Oct"</span>, <span class="st">"Nov"</span>, <span class="st">"Dec"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>sai_average <span class="ot">&lt;-</span>  sai <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(wk_ending_year <span class="sc">==</span> <span class="dv">2022</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month) <span class="sc">%&gt;%</span> </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">month_average =</span> <span class="fu">mean</span>(sold))</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>bar <span class="ot">&lt;-</span> sai <span class="sc">%&gt;%</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(wk_ending_year <span class="sc">==</span> <span class="dv">2022</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">factor</span>(month, <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">labels =</span> month_abbreviations)) <span class="sc">%&gt;%</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> sold)) <span class="sc">+</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"sum"</span>, <span class="at">fill =</span> <span class="st">"#68576D"</span>, <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">"Total Sold"</span>, <span class="at">title =</span> <span class="st">"Total Sold by Month"</span>,</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span>  <span class="st">" figure 4.1"</span>) <span class="sc">+</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">comma_format</span>()) <span class="sc">+</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_art_nouveau</span>() <span class="sc">+</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>dot <span class="ot">&lt;-</span>  sai_average <span class="sc">%&gt;%</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">factor</span>(month, <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">labels =</span> month_abbreviations)) <span class="sc">%&gt;%</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> month_average)) <span class="sc">+</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">shape =</span> <span class="dv">8</span>, <span class="at">alpha =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(month_average, <span class="dv">2</span>)), <span class="at">nudge_y =</span> <span class="fl">1.5</span>) <span class="sc">+</span>  <span class="co"># Adjust nudge_y value for closer annotations</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">position =</span> <span class="st">"right"</span>) <span class="sc">+</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Month"</span>, <span class="at">y =</span> <span class="st">""</span>, <span class="at">title =</span> <span class="st">"Average Items Sold by Month"</span>, <span class="at">caption =</span> <span class="st">"Figure 4.2"</span>) <span class="sc">+</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_art_nouveau</span>() <span class="sc">+</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>())  <span class="co"># Remove y-axis ticks</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>gridExtra<span class="sc">::</span><span class="fu">grid.arrange</span>(bar, dot, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="pi_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="960"></p>
</div>
</div>
<section id="figure-4.-the-bar-graph-displays-the-total-sales-volume-by-month.-july-stands-out-as-the-peak-season-whereas-november-and-december-show-lower-inventory-movement.-u.-however-the-average-number-of-items-sold-in-a-month-is-relatively-low-compared-to-the-totals.-this-suggests-the-presence-of-numerous-zeros-which-are-affecting-the-overall-average." class="level6">
<h6 class="anchored" data-anchor-id="figure-4.-the-bar-graph-displays-the-total-sales-volume-by-month.-july-stands-out-as-the-peak-season-whereas-november-and-december-show-lower-inventory-movement.-u.-however-the-average-number-of-items-sold-in-a-month-is-relatively-low-compared-to-the-totals.-this-suggests-the-presence-of-numerous-zeros-which-are-affecting-the-overall-average."><strong>figure 4.</strong> <em>The bar graph displays the total sales volume by month. July stands out as the peak season, whereas November and December show lower inventory movement. U. However, the average number of items sold in a month is relatively low compared to the totals. This suggests the presence of numerous zeros, which are affecting the overall average.</em></h6>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#https://www.geeksforgeeks.org/visualization-of-a-correlation-matrix-using-ggplot2-in-r/</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the data types of variables in 'sai'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="figure-5.-the-bar-graph-displays-the-total-sales-volume-by-month.-july-stands-out-as-the-peak-season-whereas-november-and-december-show-lower-inventory-movement.-u.-however-the-average-number-of-items-sold-in-a-month-is-relatively-low-compared-to-the-totals.-this-suggests-the-presence-of-numerous-zeros-which-are-affecting-the-overall-average." class="level6">
<h6 class="anchored" data-anchor-id="figure-5.-the-bar-graph-displays-the-total-sales-volume-by-month.-july-stands-out-as-the-peak-season-whereas-november-and-december-show-lower-inventory-movement.-u.-however-the-average-number-of-items-sold-in-a-month-is-relatively-low-compared-to-the-totals.-this-suggests-the-presence-of-numerous-zeros-which-are-affecting-the-overall-average."><strong>figure 5.</strong> <em>The bar graph displays the total sales volume by month. July stands out as the peak season, whereas November and December show lower inventory movement. U. However, the average number of items sold in a month is relatively low compared to the totals. This suggests the presence of numerous zeros, which are affecting the overall average.</em></h6>
</section>
</section>
<section id="splitting-the-data" class="level3">
<h3 class="anchored" data-anchor-id="splitting-the-data">splitting the data</h3>
<p>Now on the thrilling part! dividing up the data so we can train and test a predictive model using statisical methods.</p>
<p>I chose to split up the data by inventory type to avoid messing up the temporal order. Ideally I’d prefer to train on 2021 data and test on 2022 then make predictions for 2023</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a list of all items to randomly select</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1985</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>items_sample_list <span class="ot">&lt;-</span>  <span class="fu">unique</span>(sai<span class="sc">$</span>item_no) <span class="sc">%&gt;%</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample</span>(<span class="dv">366</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 75% of the data</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># splitting the inventory by item type to keep the temporal order</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>is_train <span class="ot">&lt;-</span>  sai <span class="sc">%&gt;%</span> </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(item_no <span class="sc">%in%</span> items_sample_list) <span class="sc">%&gt;%</span> </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    item_no,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    week,</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    month,</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    lag1,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    lag2,</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    rolling_4wk_avg,</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    best_seller, </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    sold) <span class="co">#not sure why i had to include the dplyr package</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>is_test<span class="ot">&lt;-</span>  sai <span class="sc">%&gt;%</span> </span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(item_no <span class="sc">%in%</span> items_sample_list)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    item_no,</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    week,</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    month,</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    lag1,</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    lag2,</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    rolling_4wk_avg,</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    best_seller, </span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    sold) <span class="co">#not sure why i had to include the dplyr package</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>create a model based on the best selling item, inventory with more items sold are more predictable.</p>
</section>
</section>
<section id="model-feature-selection" class="level2">
<h2 class="anchored" data-anchor-id="model-feature-selection">Model Feature Selection</h2>
<ul>
<li><p>find the best model using stepwise selection find the 2 best methods for every size predictors reasons to use stepwise with caution</p>
<ul>
<li>irrelevant variables leads to unnecessary complexity in the resulting mode</li>
</ul></li>
<li><p>define generalized linear regression and why I chose this for the model</p></li>
</ul>
<section id="subselection" class="level3">
<h3 class="anchored" data-anchor-id="subselection">subselection</h3>
<ul>
<li>This approach involves identifying a subset of the p predictors that we believe to be related to the response. We then fit a model using least squares on the reduced set of variables</li>
</ul>
<p>assumptions of a generalized linear model y is continous</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># https://youtu.be/IScjygOnO0w</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># forward Stepwise Selection</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># nvmax = 8 specifies the maximum number of predictors to incorporate in the model.</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>is_mod <span class="ot">&lt;-</span> <span class="fu">regsubsets</span>(sold <span class="sc">~</span> week <span class="sc">+</span> month <span class="sc">+</span> lag1 <span class="sc">+</span> lag2 <span class="sc">+</span> rolling_4wk_avg <span class="sc">+</span> best_seller,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">data =</span> is_test, <span class="at">nbest =</span> <span class="dv">2</span>, <span class="at">method =</span> <span class="st">"exhaustive"</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>is_mod_summary_mx <span class="ot">&lt;-</span> <span class="fu">with</span>(<span class="fu">summary</span>(is_mod), <span class="fu">data.frame</span>(rsq,adjr2, cp, rss, outmat))</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>is_mod_summary_mx<span class="sc">$</span>predictors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">6</span>) <span class="co"># for graphing</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>is_mod_summary_mx<span class="sc">$</span>model <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'a'</span>) <span class="co"># for graphing</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>for model six show the table of coefficient, std. error, t-statistic, p-value</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>is_mod_summary_mx <span class="sc">%&gt;%</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">"predictors"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="fu">md</span>(<span class="st">"model comparison"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"left"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> cp,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"#15050B"</span>, <span class="st">"#F6D5E2"</span>,<span class="st">"#D35C9E"</span> ),</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">domain =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">4000</span>),</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_options</span>(</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">grand_summary_row.background.color =</span> <span class="st">"#D35C9E"</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">heading.background.color =</span> <span class="st">"#EFFBFC"</span>,</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">column_labels.background.color =</span> <span class="st">"#EFFBFC"</span>,</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">stub.background.color =</span> <span class="st">"#EFFBFC"</span>,</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.font.color =</span> <span class="st">"#323232"</span>,</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">stub.border.style =</span> <span class="st">"dashed"</span>,</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">stub.border.width =</span> <span class="st">"1px"</span>,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.width =</span> <span class="st">"60%"</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_all_caps</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Some values were outside the color scale and will be treated as NA</code></pre>
</div>
<div class="cell-output-display">

<div id="hwwogwbpzq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hwwogwbpzq table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hwwogwbpzq thead, #hwwogwbpzq tbody, #hwwogwbpzq tfoot, #hwwogwbpzq tr, #hwwogwbpzq td, #hwwogwbpzq th {
  border-style: none;
}

#hwwogwbpzq p {
  margin: 0;
  padding: 0;
}

#hwwogwbpzq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #323232;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 60%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hwwogwbpzq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hwwogwbpzq .gt_title {
  color: #323232;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hwwogwbpzq .gt_subtitle {
  color: #323232;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hwwogwbpzq .gt_heading {
  background-color: #EFFBFC;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hwwogwbpzq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hwwogwbpzq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hwwogwbpzq .gt_col_heading {
  color: #323232;
  background-color: #EFFBFC;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hwwogwbpzq .gt_column_spanner_outer {
  color: #323232;
  background-color: #EFFBFC;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hwwogwbpzq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hwwogwbpzq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hwwogwbpzq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hwwogwbpzq .gt_spanner_row {
  border-bottom-style: hidden;
}

#hwwogwbpzq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #323232;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hwwogwbpzq .gt_empty_group_heading {
  padding: 0.5px;
  color: #323232;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hwwogwbpzq .gt_from_md > :first-child {
  margin-top: 0;
}

#hwwogwbpzq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hwwogwbpzq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hwwogwbpzq .gt_stub {
  color: #323232;
  background-color: #EFFBFC;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: dashed;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hwwogwbpzq .gt_stub_row_group {
  color: #323232;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hwwogwbpzq .gt_row_group_first td {
  border-top-width: 2px;
}

#hwwogwbpzq .gt_row_group_first th {
  border-top-width: 2px;
}

#hwwogwbpzq .gt_summary_row {
  color: #323232;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hwwogwbpzq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hwwogwbpzq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hwwogwbpzq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hwwogwbpzq .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #D35C9E;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hwwogwbpzq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hwwogwbpzq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hwwogwbpzq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hwwogwbpzq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hwwogwbpzq .gt_footnotes {
  color: #323232;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hwwogwbpzq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hwwogwbpzq .gt_sourcenotes {
  color: #323232;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hwwogwbpzq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hwwogwbpzq .gt_left {
  text-align: left;
}

#hwwogwbpzq .gt_center {
  text-align: center;
}

#hwwogwbpzq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hwwogwbpzq .gt_font_normal {
  font-weight: normal;
}

#hwwogwbpzq .gt_font_bold {
  font-weight: bold;
}

#hwwogwbpzq .gt_font_italic {
  font-style: italic;
}

#hwwogwbpzq .gt_super {
  font-size: 65%;
}

#hwwogwbpzq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hwwogwbpzq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hwwogwbpzq .gt_indent_1 {
  text-indent: 5px;
}

#hwwogwbpzq .gt_indent_2 {
  text-indent: 10px;
}

#hwwogwbpzq .gt_indent_3 {
  text-indent: 15px;
}

#hwwogwbpzq .gt_indent_4 {
  text-indent: 20px;
}

#hwwogwbpzq .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="12" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">model comparison</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="rsq">rsq</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="adjr2">adjr2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="cp">cp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="rss">rss</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="week">week</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="month">month</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="lag1">lag1</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="lag2">lag2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="rolling_4wk_avg">rolling_4wk_avg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="best_seller">best_seller</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="model">model</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_left gt_stub">1</th>
<td headers="stub_1_1 rsq" class="gt_row gt_left">0.35517493</td>
<td headers="stub_1_1 adjr2" class="gt_row gt_left">0.35507126</td>
<td headers="stub_1_1 cp" class="gt_row gt_left" style="background-color: rgba(219,115,170,0.8); color: #FFFFFF;">3641.238692</td>
<td headers="stub_1_1 rss" class="gt_row gt_left">347410480</td>
<td headers="stub_1_1 week" class="gt_row gt_left"> </td>
<td headers="stub_1_1 month" class="gt_row gt_left"> </td>
<td headers="stub_1_1 lag1" class="gt_row gt_left"> </td>
<td headers="stub_1_1 lag2" class="gt_row gt_left"> </td>
<td headers="stub_1_1 rolling_4wk_avg" class="gt_row gt_left">*</td>
<td headers="stub_1_1 best_seller" class="gt_row gt_left"> </td>
<td headers="stub_1_1 model" class="gt_row gt_left">a</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_left gt_stub">1</th>
<td headers="stub_1_2 rsq" class="gt_row gt_left">0.07253195</td>
<td headers="stub_1_2 adjr2" class="gt_row gt_left">0.07238283</td>
<td headers="stub_1_2 cp" class="gt_row gt_left" style="background-color: rgba(128,128,128,0.8); color: #FFFFFF;">7962.790093</td>
<td headers="stub_1_2 rss" class="gt_row gt_left">499689200</td>
<td headers="stub_1_2 week" class="gt_row gt_left"> </td>
<td headers="stub_1_2 month" class="gt_row gt_left"> </td>
<td headers="stub_1_2 lag1" class="gt_row gt_left"> </td>
<td headers="stub_1_2 lag2" class="gt_row gt_left"> </td>
<td headers="stub_1_2 rolling_4wk_avg" class="gt_row gt_left"> </td>
<td headers="stub_1_2 best_seller" class="gt_row gt_left">*</td>
<td headers="stub_1_2 model" class="gt_row gt_left">b</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_left gt_stub">2</th>
<td headers="stub_1_3 rsq" class="gt_row gt_left">0.47178311</td>
<td headers="stub_1_3 adjr2" class="gt_row gt_left">0.47161324</td>
<td headers="stub_1_3 cp" class="gt_row gt_left" style="background-color: rgba(228,197,209,0.8); color: #000000;">1860.324363</td>
<td headers="stub_1_3 rss" class="gt_row gt_left">284585840</td>
<td headers="stub_1_3 week" class="gt_row gt_left"> </td>
<td headers="stub_1_3 month" class="gt_row gt_left"> </td>
<td headers="stub_1_3 lag1" class="gt_row gt_left"> </td>
<td headers="stub_1_3 lag2" class="gt_row gt_left">*</td>
<td headers="stub_1_3 rolling_4wk_avg" class="gt_row gt_left">*</td>
<td headers="stub_1_3 best_seller" class="gt_row gt_left"> </td>
<td headers="stub_1_3 model" class="gt_row gt_left">a</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_left gt_stub">2</th>
<td headers="stub_1_4 rsq" class="gt_row gt_left">0.40971495</td>
<td headers="stub_1_4 adjr2" class="gt_row gt_left">0.40952512</td>
<td headers="stub_1_4 cp" class="gt_row gt_left" style="background-color: rgba(234,166,198,0.8); color: #000000;">2809.333361</td>
<td headers="stub_1_4 rss" class="gt_row gt_left">318026117</td>
<td headers="stub_1_4 week" class="gt_row gt_left"> </td>
<td headers="stub_1_4 month" class="gt_row gt_left"> </td>
<td headers="stub_1_4 lag1" class="gt_row gt_left">*</td>
<td headers="stub_1_4 lag2" class="gt_row gt_left"> </td>
<td headers="stub_1_4 rolling_4wk_avg" class="gt_row gt_left">*</td>
<td headers="stub_1_4 best_seller" class="gt_row gt_left"> </td>
<td headers="stub_1_4 model" class="gt_row gt_left">b</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_left gt_stub">3</th>
<td headers="stub_1_5 rsq" class="gt_row gt_left">0.59311658</td>
<td headers="stub_1_5 adjr2" class="gt_row gt_left">0.59292027</td>
<td headers="stub_1_5 cp" class="gt_row gt_left" style="background-color: rgba(22,6,12,0.8); color: #FFFFFF;">7.161336</td>
<td headers="stub_1_5 rss" class="gt_row gt_left">219215369</td>
<td headers="stub_1_5 week" class="gt_row gt_left"> </td>
<td headers="stub_1_5 month" class="gt_row gt_left"> </td>
<td headers="stub_1_5 lag1" class="gt_row gt_left">*</td>
<td headers="stub_1_5 lag2" class="gt_row gt_left">*</td>
<td headers="stub_1_5 rolling_4wk_avg" class="gt_row gt_left">*</td>
<td headers="stub_1_5 best_seller" class="gt_row gt_left"> </td>
<td headers="stub_1_5 model" class="gt_row gt_left">a</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_left gt_stub">3</th>
<td headers="stub_1_6 rsq" class="gt_row gt_left">0.47179023</td>
<td headers="stub_1_6 adjr2" class="gt_row gt_left">0.47153538</td>
<td headers="stub_1_6 cp" class="gt_row gt_left" style="background-color: rgba(228,197,209,0.8); color: #000000;">1862.215571</td>
<td headers="stub_1_6 rss" class="gt_row gt_left">284582007</td>
<td headers="stub_1_6 week" class="gt_row gt_left"> </td>
<td headers="stub_1_6 month" class="gt_row gt_left">*</td>
<td headers="stub_1_6 lag1" class="gt_row gt_left"> </td>
<td headers="stub_1_6 lag2" class="gt_row gt_left">*</td>
<td headers="stub_1_6 rolling_4wk_avg" class="gt_row gt_left">*</td>
<td headers="stub_1_6 best_seller" class="gt_row gt_left"> </td>
<td headers="stub_1_6 model" class="gt_row gt_left">b</td></tr>
    <tr><th id="stub_1_7" scope="row" class="gt_row gt_left gt_stub">4</th>
<td headers="stub_1_7 rsq" class="gt_row gt_left">0.59312292</td>
<td headers="stub_1_7 adjr2" class="gt_row gt_left">0.59286113</td>
<td headers="stub_1_7 cp" class="gt_row gt_left" style="background-color: rgba(22,6,12,0.8); color: #FFFFFF;">9.064396</td>
<td headers="stub_1_7 rss" class="gt_row gt_left">219211953</td>
<td headers="stub_1_7 week" class="gt_row gt_left"> </td>
<td headers="stub_1_7 month" class="gt_row gt_left">*</td>
<td headers="stub_1_7 lag1" class="gt_row gt_left">*</td>
<td headers="stub_1_7 lag2" class="gt_row gt_left">*</td>
<td headers="stub_1_7 rolling_4wk_avg" class="gt_row gt_left">*</td>
<td headers="stub_1_7 best_seller" class="gt_row gt_left"> </td>
<td headers="stub_1_7 model" class="gt_row gt_left">a</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_left gt_stub">4</th>
<td headers="stub_1_8 rsq" class="gt_row gt_left">0.59311764</td>
<td headers="stub_1_8 adjr2" class="gt_row gt_left">0.59285586</td>
<td headers="stub_1_8 cp" class="gt_row gt_left" style="background-color: rgba(22,6,12,0.8); color: #FFFFFF;">9.145038</td>
<td headers="stub_1_8 rss" class="gt_row gt_left">219214795</td>
<td headers="stub_1_8 week" class="gt_row gt_left"> </td>
<td headers="stub_1_8 month" class="gt_row gt_left"> </td>
<td headers="stub_1_8 lag1" class="gt_row gt_left">*</td>
<td headers="stub_1_8 lag2" class="gt_row gt_left">*</td>
<td headers="stub_1_8 rolling_4wk_avg" class="gt_row gt_left">*</td>
<td headers="stub_1_8 best_seller" class="gt_row gt_left">*</td>
<td headers="stub_1_8 model" class="gt_row gt_left">b</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_left gt_stub">5</th>
<td headers="stub_1_9 rsq" class="gt_row gt_left">0.59351846</td>
<td headers="stub_1_9 adjr2" class="gt_row gt_left">0.59319149</td>
<td headers="stub_1_9 cp" class="gt_row gt_left" style="background-color: rgba(21,6,12,0.8); color: #FFFFFF;">5.016718</td>
<td headers="stub_1_9 rss" class="gt_row gt_left">218998851</td>
<td headers="stub_1_9 week" class="gt_row gt_left">*</td>
<td headers="stub_1_9 month" class="gt_row gt_left">*</td>
<td headers="stub_1_9 lag1" class="gt_row gt_left">*</td>
<td headers="stub_1_9 lag2" class="gt_row gt_left">*</td>
<td headers="stub_1_9 rolling_4wk_avg" class="gt_row gt_left">*</td>
<td headers="stub_1_9 best_seller" class="gt_row gt_left"> </td>
<td headers="stub_1_9 model" class="gt_row gt_left">a</td></tr>
    <tr><th id="stub_1_10" scope="row" class="gt_row gt_left gt_stub">5</th>
<td headers="stub_1_10 rsq" class="gt_row gt_left">0.59312400</td>
<td headers="stub_1_10 adjr2" class="gt_row gt_left">0.59279672</td>
<td headers="stub_1_10 cp" class="gt_row gt_left" style="background-color: rgba(22,7,13,0.8); color: #FFFFFF;">11.047895</td>
<td headers="stub_1_10 rss" class="gt_row gt_left">219211372</td>
<td headers="stub_1_10 week" class="gt_row gt_left"> </td>
<td headers="stub_1_10 month" class="gt_row gt_left">*</td>
<td headers="stub_1_10 lag1" class="gt_row gt_left">*</td>
<td headers="stub_1_10 lag2" class="gt_row gt_left">*</td>
<td headers="stub_1_10 rolling_4wk_avg" class="gt_row gt_left">*</td>
<td headers="stub_1_10 best_seller" class="gt_row gt_left">*</td>
<td headers="stub_1_10 model" class="gt_row gt_left">b</td></tr>
    <tr><th id="stub_1_11" scope="row" class="gt_row gt_left gt_stub">6</th>
<td headers="stub_1_11 rsq" class="gt_row gt_left">0.59351955</td>
<td headers="stub_1_11 adjr2" class="gt_row gt_left">0.59312713</td>
<td headers="stub_1_11 cp" class="gt_row gt_left" style="background-color: rgba(22,6,12,0.8); color: #FFFFFF;">7.000000</td>
<td headers="stub_1_11 rss" class="gt_row gt_left">218998262</td>
<td headers="stub_1_11 week" class="gt_row gt_left">*</td>
<td headers="stub_1_11 month" class="gt_row gt_left">*</td>
<td headers="stub_1_11 lag1" class="gt_row gt_left">*</td>
<td headers="stub_1_11 lag2" class="gt_row gt_left">*</td>
<td headers="stub_1_11 rolling_4wk_avg" class="gt_row gt_left">*</td>
<td headers="stub_1_11 best_seller" class="gt_row gt_left">*</td>
<td headers="stub_1_11 model" class="gt_row gt_left">a</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># update this too  look more like my other graphs</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">#https://posit.co/blog/great-looking-tables-gt-0-2/# turn results into a pretty table</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># is_mod_summary_mx</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="model-evaluation" class="level3">
<h3 class="anchored" data-anchor-id="model-evaluation">model evaluation</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># make tghis chart prettier</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>gcolors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#68576D"</span>, <span class="st">"#DF5875"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>is_mod_summary_mx <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">c</span>(adjr2, cp), <span class="at">names_to =</span> <span class="st">"metric"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> predictors, <span class="at">y =</span> value, <span class="at">color =</span> model)) <span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> .<span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>metric, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> gcolors) <span class="sc">+</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"predictors"</span>, <span class="at">y =</span> <span class="st">"metric"</span>, <span class="at">title =</span> <span class="st">"Number of Predictors by ADJR2 and CP"</span>,</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span>  <span class="st">" figure e"</span>) <span class="sc">+</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_art_nouveau</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="pi_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="960"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># how can i make the value label larger on this?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>I see that the more predictors the great the adjr2 and the lower the cp, which is be expected. there appears to be diminishing returns at 4 predictors.</p>
<p>model a has more optimal score on this compared to model b</p>
<p>why too many predictors are bad reason xyz</p>
<p>[interpret the graph]</p>
<p>explain why this is the best one what do each of these things tell me? - rsq -&gt; highest r squared, explains the variability in the model - adjr2 - &gt; highest - cp -&gt; smallest - rss -&gt; smallest</p>
<p>I want to take my models through one more level os scrunity. having trouble choosing, i spent a lot of time making my variables so lets look at AIC several models what is AIC? Lower AIC values indicate a better-fit model, and a model with a delta-AIC (the difference between the two AIC values being compared) of more than -2 is considered significantly better than the model it is being compared to</p>
<p>find the coefficients and (Akaike Information Criterion) AIC Multiple linear regression compare the three best models</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#https://emilhvitfeldt.github.io/ISLR-tidymodels-labs/03-linear-regression.html</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># tidy model way</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a> specs <span class="ot">&lt;-</span> <span class="fu">linear_reg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"regression"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"lm"</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>lm_3 <span class="ot">&lt;-</span> specs <span class="sc">%&gt;%</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(sold<span class="sc">~</span> lag1 <span class="sc">+</span> lag2 <span class="sc">+</span> rolling_4wk_avg , <span class="at">data =</span> is_train)</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>lm_4 <span class="ot">&lt;-</span> specs <span class="sc">%&gt;%</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(sold<span class="sc">~</span> month <span class="sc">+</span> lag1 <span class="sc">+</span> lag2 <span class="sc">+</span> rolling_4wk_avg , <span class="at">data =</span> is_train)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>lm_5 <span class="ot">&lt;-</span> specs <span class="sc">%&gt;%</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(sold<span class="sc">~</span> month <span class="sc">+</span> week <span class="sc">+</span> lag1 <span class="sc">+</span> lag2 <span class="sc">+</span> rolling_4wk_avg , <span class="at">data =</span> is_train)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>mod_compare <span class="ot">&lt;-</span>  <span class="fu">rbind</span>(<span class="fu">glance</span>(lm_3),<span class="fu">glance</span>(lm_4),<span class="fu">glance</span>(lm_5))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>mod_compare <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">gt</span>(<span class="at">rowname_col =</span> <span class="st">"df"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="fu">md</span>(<span class="st">"model comparison"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_align</span>(<span class="at">align =</span> <span class="st">"left"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> AIC,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">"#15050B"</span>, <span class="st">"#F6D5E2"</span>,<span class="st">"#D35C9E"</span> ),</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">domain =</span> <span class="fu">c</span>( <span class="fl">235603.3</span>, <span class="fl">235605.8</span>),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.8</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tab_options</span>(</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">grand_summary_row.background.color =</span> <span class="st">"#D35C9E"</span>,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">heading.background.color =</span> <span class="st">"#EFFBFC"</span>,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">column_labels.background.color =</span> <span class="st">"#EFFBFC"</span>,</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">stub.background.color =</span> <span class="st">"#EFFBFC"</span>,</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.font.color =</span> <span class="st">"#323232"</span>,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">stub.border.style =</span> <span class="st">"dashed"</span>,</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">stub.border.width =</span> <span class="st">"1px"</span>,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.width =</span> <span class="st">"60%"</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_all_caps</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div id="nbtbkarcnp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#nbtbkarcnp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#nbtbkarcnp thead, #nbtbkarcnp tbody, #nbtbkarcnp tfoot, #nbtbkarcnp tr, #nbtbkarcnp td, #nbtbkarcnp th {
  border-style: none;
}

#nbtbkarcnp p {
  margin: 0;
  padding: 0;
}

#nbtbkarcnp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #323232;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 60%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nbtbkarcnp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#nbtbkarcnp .gt_title {
  color: #323232;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nbtbkarcnp .gt_subtitle {
  color: #323232;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nbtbkarcnp .gt_heading {
  background-color: #EFFBFC;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nbtbkarcnp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nbtbkarcnp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nbtbkarcnp .gt_col_heading {
  color: #323232;
  background-color: #EFFBFC;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nbtbkarcnp .gt_column_spanner_outer {
  color: #323232;
  background-color: #EFFBFC;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nbtbkarcnp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nbtbkarcnp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nbtbkarcnp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nbtbkarcnp .gt_spanner_row {
  border-bottom-style: hidden;
}

#nbtbkarcnp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #323232;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#nbtbkarcnp .gt_empty_group_heading {
  padding: 0.5px;
  color: #323232;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nbtbkarcnp .gt_from_md > :first-child {
  margin-top: 0;
}

#nbtbkarcnp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nbtbkarcnp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nbtbkarcnp .gt_stub {
  color: #323232;
  background-color: #EFFBFC;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: dashed;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#nbtbkarcnp .gt_stub_row_group {
  color: #323232;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#nbtbkarcnp .gt_row_group_first td {
  border-top-width: 2px;
}

#nbtbkarcnp .gt_row_group_first th {
  border-top-width: 2px;
}

#nbtbkarcnp .gt_summary_row {
  color: #323232;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nbtbkarcnp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#nbtbkarcnp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#nbtbkarcnp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nbtbkarcnp .gt_grand_summary_row {
  color: #FFFFFF;
  background-color: #D35C9E;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nbtbkarcnp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nbtbkarcnp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#nbtbkarcnp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nbtbkarcnp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nbtbkarcnp .gt_footnotes {
  color: #323232;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nbtbkarcnp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nbtbkarcnp .gt_sourcenotes {
  color: #323232;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nbtbkarcnp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nbtbkarcnp .gt_left {
  text-align: left;
}

#nbtbkarcnp .gt_center {
  text-align: center;
}

#nbtbkarcnp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nbtbkarcnp .gt_font_normal {
  font-weight: normal;
}

#nbtbkarcnp .gt_font_bold {
  font-weight: bold;
}

#nbtbkarcnp .gt_font_italic {
  font-style: italic;
}

#nbtbkarcnp .gt_super {
  font-size: 65%;
}

#nbtbkarcnp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#nbtbkarcnp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#nbtbkarcnp .gt_indent_1 {
  text-indent: 5px;
}

#nbtbkarcnp .gt_indent_2 {
  text-indent: 10px;
}

#nbtbkarcnp .gt_indent_3 {
  text-indent: 15px;
}

#nbtbkarcnp .gt_indent_4 {
  text-indent: 20px;
}

#nbtbkarcnp .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="12" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">model comparison</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="r.squared">r.squared</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="adj.r.squared">adj.r.squared</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="sigma">sigma</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="statistic">statistic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="p.value">p.value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="logLik">logLik</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="AIC">AIC</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="BIC">BIC</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="deviance">deviance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="df.residual">df.residual</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="nobs">nobs</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><th id="stub_1_1" scope="row" class="gt_row gt_left gt_stub">3</th>
<td headers="stub_1_1 r.squared" class="gt_row gt_left">0.5969407</td>
<td headers="stub_1_1 adj.r.squared" class="gt_row gt_left">0.5968760</td>
<td headers="stub_1_1 sigma" class="gt_row gt_left">133.2103</td>
<td headers="stub_1_1 statistic" class="gt_row gt_left">9212.961</td>
<td headers="stub_1_1 p.value" class="gt_row gt_left">0</td>
<td headers="stub_1_1 logLik" class="gt_row gt_left">-117796.7</td>
<td headers="stub_1_1 AIC" class="gt_row gt_left" style="background-color: rgba(24,9,15,0.8); color: #FFFFFF;">235603.3</td>
<td headers="stub_1_1 BIC" class="gt_row gt_left">235642.5</td>
<td headers="stub_1_1 deviance" class="gt_row gt_left">331157049</td>
<td headers="stub_1_1 df.residual" class="gt_row gt_left">18662</td>
<td headers="stub_1_1 nobs" class="gt_row gt_left">18666</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_left gt_stub">4</th>
<td headers="stub_1_2 r.squared" class="gt_row gt_left">0.5969504</td>
<td headers="stub_1_2 adj.r.squared" class="gt_row gt_left">0.5968640</td>
<td headers="stub_1_2 sigma" class="gt_row gt_left">133.2123</td>
<td headers="stub_1_2 statistic" class="gt_row gt_left">6909.627</td>
<td headers="stub_1_2 p.value" class="gt_row gt_left">0</td>
<td headers="stub_1_2 logLik" class="gt_row gt_left">-117796.4</td>
<td headers="stub_1_2 AIC" class="gt_row gt_left" style="background-color: rgba(239,183,208,0.8); color: #000000;">235604.9</td>
<td headers="stub_1_2 BIC" class="gt_row gt_left">235651.9</td>
<td headers="stub_1_2 deviance" class="gt_row gt_left">331149135</td>
<td headers="stub_1_2 df.residual" class="gt_row gt_left">18661</td>
<td headers="stub_1_2 nobs" class="gt_row gt_left">18666</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_left gt_stub">5</th>
<td headers="stub_1_3 r.squared" class="gt_row gt_left">0.5969742</td>
<td headers="stub_1_3 adj.r.squared" class="gt_row gt_left">0.5968663</td>
<td headers="stub_1_3 sigma" class="gt_row gt_left">133.2119</td>
<td headers="stub_1_3 statistic" class="gt_row gt_left">5527.954</td>
<td headers="stub_1_3 p.value" class="gt_row gt_left">0</td>
<td headers="stub_1_3 logLik" class="gt_row gt_left">-117795.9</td>
<td headers="stub_1_3 AIC" class="gt_row gt_left" style="background-color: rgba(212,96,160,0.8); color: #FFFFFF;">235605.8</td>
<td headers="stub_1_3 BIC" class="gt_row gt_left">235660.6</td>
<td headers="stub_1_3 deviance" class="gt_row gt_left">331129521</td>
<td headers="stub_1_3 df.residual" class="gt_row gt_left">18660</td>
<td headers="stub_1_3 nobs" class="gt_row gt_left">18666</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>interpret the results</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>train_precict <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predict</span>(lm_3, <span class="at">new_data =</span> is_train, <span class="at">type =</span> <span class="st">"conf_int"</span>),</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  is_train</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(item_no, week, sold, .pred_lower, .pred_upper)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co"># graph the results</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>compare the train model against the test</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>lm_3 <span class="ot">&lt;-</span> specs <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(sold<span class="sc">~</span> lag1 <span class="sc">+</span> lag2 <span class="sc">+</span> rolling_4wk_avg , <span class="at">data =</span> is_train)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>lm_3t <span class="ot">&lt;-</span> specs <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fit</span>(sold<span class="sc">~</span> lag1 <span class="sc">+</span> lag2 <span class="sc">+</span> rolling_4wk_avg , <span class="at">data =</span> is_test)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>tt_compare <span class="ot">&lt;-</span>  <span class="fu">rbind</span>(<span class="fu">glance</span>(lm_3),<span class="fu">glance</span>(lm_3t))</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>tt_compare<span class="sc">$</span>mod <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="st">"train"</span>, <span class="st">"test"</span>)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="co"># create a visualization</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>actual_predicted <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predict</span>(lm_3t, <span class="at">new_data =</span> is_train, <span class="at">type =</span> <span class="st">"conf_int"</span>),</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  is_train</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(item_no, week, sold, .pred_lower, .pred_upper)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="graph-results" class="level3">
<h3 class="anchored" data-anchor-id="graph-results">graph results</h3>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp("https:\/\/brookemwalters\.github\.io\/Collection\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../sections/dataviz/viz_placeholder.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Overview_Draft</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../sections/reflections/reflections_main.html" class="pagination-link">
        <span class="nav-page-text">collection of reflections</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/BrookemWalters/Collection/edit/main/sections/glmv1/pi.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/BrookemWalters/Collection/issues/new" class="toc-action">Report an issue</a></p></div></div></div>
    <div class="nav-footer-right">This page is built with ☕ and <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>
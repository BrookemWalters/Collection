{
  "hash": "0d4ac9163dac4257539f5ffc93804ddb",
  "result": {
    "markdown": "---\ntitle: \"\"\nformat: \n  html:\n    code-fold: true\n---\n\n\n![](/images/logos/logo_white.png)\n\n\n\n\n\nDRAFT DRAFT LESS OUTLINE MORE WRITING\n\n# Project Overview\n\n\"Welcome to my Stats 631 final project!\n\nThis digital portfolio is not only a testament to my proficiency in applied statistical methods, but also an embodiment of my capacity for continuous growth and  adaptability in the dynamic field of data science and machine learning. It marks the acquisition of new skills developed throughout the 2023 summer semester, complementing my years in the workforce, cultivating my craft of descriptive analytic communication (**aka data storytelling**)\n\nAt its heart, this project is a canvas on where I present one case study for predictive statistical modeling. Leveraging the R programming language, I conducted model selection and broadened my expertise in data wrangling, visualization, and design aesthetics.\n\nMore specifically, this document guides you through a time series inventory prediction--- the art of anticipating future consumer demand. Ultimately, it demonstrates how data empowers the decision-making process through forecasting and strategic insights.\nAnd remember,\n\n![](/images/quotes_george-box_models-wrong-some-useful_tribal-simplicity.png){width=\"500\"}\n\n**goal**: forecast the inventory for the upcoming year\n\n**limitations**: ideally, time series predictions benefit from multi-year trending data sets. However, the data for this project encompasses merely 54 weeks.\n\nAdditionally, my understanding of the data is constrained. For this project, I made certain assumptions about the time frame and inventory type. In practical scenarios, thorough consultation and collaboration with domain experts are essential components of any predictive analytics project.\n\n![](/images/AdobeStock_184864827.jpeg) **this report contains:**\n\n-   **Data Processing**:\n    -   feature engineering\n    -   data splitting into training and testing sets  \n-   **Model Development**:\n    -   step-wise model selection methodology  \n-   **Analytics and Evaluation**:\n    -   exploratory and descriptive analytics\n    -   interpretation and evaluation of model outcomes\n\n\\\n\n## Initial Insights:\n\nThe inventory data is comprised of 488 distinct items, sold over a span of 54 weeks (from week 0 to 53), with an impressive sum of approximately 1.3 million units transacted.\n\nTo visualize and better understand the distribution of sales, I prepared a series of graphical representations to discern patterns, identify anomalies, and appreciate the overall behavior of our sales data over time, thereby setting the stage for the predictive analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# import data\nsai <-  read.csv(\"inventory.csv\")\n# import my custom theme :-)\nsource(\"artNov_theme.R\")\n\nhist <- sai %>% \n  group_by(item_no) %>%\n  summarise(total_sold = sum(sold)) %>% \n \nggplot(aes(x = total_sold)) +\n  geom_histogram(binwidth = 2100, color = \"black\", fill = \"#7D998F\", \n                 alpha = .6) +\n        scale_x_continuous(labels = scales::comma_format()) +\n  \n  labs(x = \"Number of Items Sold\", y = \"Frequency\", \n       title = \"Number of Items Sold by Item Type\", \n       caption =  \" figure 1.1\")+\n    theme_art_nouveau()\n\n\n\nhist1 <- sai %>% \n  group_by(week) %>%\n  summarise(total_sold = sum(sold)) %>% \n \nggplot(aes(x = total_sold)) +\n  geom_histogram(binwidth =  2100, color = \"black\", fill = \"#68576D\", \n                 alpha = .6) +\n        scale_x_continuous(labels = scales::comma_format()) +\n        scale_y_continuous(position = \"right\") +\n  \n  labs(x = \"Number of Items Sold\", \n       title = \"Number of Items Sold by Week\",\n        caption =  \" figure 1.2\")+\n  theme_art_nouveau()\n\n# display the histograms side by side\ngridExtra::grid.arrange(hist, hist1, ncol = 2)\n```\n\n::: {.cell-output-display}\n![](pi_files/figure-html/unnamed-chunk-2-1.png){width=960}\n:::\n:::\n\n\n###### **figure 1.** *The histograms demonstrate the distribution of the dataset by variable. The green histogram demonstrates the frequency of each item sold, with most items ranging between 500 and 1300 in total. The purple histogram conveys the temporal dispersion of weekly sales. Both graphs exhibit a right skew, particularly pronounced in the green histogram, implying a scarcity of high-sales items or weeks.*\n\n\\\n\\\n\\\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nline1 <- sai %>%\n  group_by(week) %>%\n  summarise(total_sold = sum(sold)) %>%\n  ggplot(aes(x = week, y = total_sold)) +\n  geom_line(size = 2, alpha = 0.5, color = \"#DF5875\") +\n  geom_point(size = 4, alpha = 0.5, color = \"#DF5875\")+\n  geom_area(fill = \"#DF5875\", alpha = 0.4) +\n  scale_x_continuous(breaks = seq(0, 55, by = 5)) + \n  scale_y_continuous(labels = scales::comma_format()) +\n   \n  labs(x = \"week\", y = \"Count of Items Sold\", \n       title = \"Number of Items Sold by Week\",\n        caption =  \" figure 2\")+\n  theme_art_nouveau()\nline1\n```\n\n::: {.cell-output-display}\n![](pi_files/figure-html/unnamed-chunk-3-1.png){width=960}\n:::\n:::\n\n\n###### **figure 2.** *The line graph shows annual sales trends in the unprocessed data set. Weekly sales fluctuate within a range of 10,000 to 50,000 items, with the majority hovering between \\~20k and \\~30k units sold. A distinct sales peak is observed in week 20, while week 46 registers the slowest sales activity. This trend analysis aids in identifying key sales periods and provides valuable context for refining our predictive models*\n\n\\\n\\\n\\\n<br>\n\n## Data Processing\n\nI feature engineered new variables to derive a better understanding of sales trends and enhance the predictive model's performance. These variables provide valuable insights into sales trends, seasonality, and best-selling items, which can be used to enhance the predictive model's performance and gain a better understanding of the data's dynamics. Ideally, meeting with domain experts would be part of this process, to ensure the variables represent reality.\n\n### data dictionary\n\n-   **item_no**: the unique identifier for each item\n-   **week**: the week number. \"sold\": number of items sold during a specific week\n-   **year_total**:the total number of items sold for each item over the entire year\n-   **date**: The specific date corresponding to a week\n-   **month**: the month corresponding to a specific week\n-   **lag1**: period for capturing seasonality or time-dependent patterns, item's sold from the previous week\n-   **lag2**: item's sold from two-weeks prior\n-   **rolling_4wk_avg**: the total number of items sold over the past four weeksby item_no\n-   **best_seller**: A binary variable indicating whether the item is one of the top ten best-selling items based on volume\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#####\n# create the variables\n# total yearly sales for each item\ninventory_sum <- sai %>%\n  group_by(item_no) %>%\n  summarise(year_total = sum(sold), .groups = \"drop\")\n\nsai <- left_join(sai, inventory_sum, by = c(\"item_no\"))\n\n###\n# calculate the top 10% threshold\ntop_10_threshold <- quantile(sai$year_total, 0.9)\n\n# dummy variable for bestsellers 1= yes 0 = no\nsai <- sai %>%\n  mutate(best_seller = ifelse(year_total >= top_10_threshold, 1, 0))\n\n## figure out month an year for data, assuming the data is from  2022\n# week 0: December 27, 2021 - January 2, 2022\n# week 52: December 19, 2022 - December 25, 2022\n# week 53: December 26, 2022 - January 1, 2023\n\nsai$year <- 2022\n\nsai <- sai %>%\n  mutate(calendar_week = ifelse(week == 0, 52, ifelse(week == 53, 1, week)),\n         calendar_year = ifelse(week == 0, year - 1, ifelse(week == 53, year + 1, year)))\n\n# Now use calendar_year and calendar_week in the MMWRweek2Date function\nsai$date <- MMWRweek2Date(sai$calendar_year, sai$calendar_week)\n\n\n\n# find the year the week ends in, so we can figure out months\nsai <- sai %>%\n  mutate(wk_ending_year = ifelse(week %in% c(0, 53), year + 1, year),\n         week = ifelse(week == 53, 1, week))\n\n\n\n# create teh data and extract the month\n# wanted month to be quantitative to reduce model complexity\n\nsai$date <- MMWRweek2Date(sai$wk_ending_year, sai$calendar_week)\nsai$month <- month(sai$date, label = TRUE)\nsai$month <- month(sai$date)\n\n\n# create lag periods\n# https://www.youtube.com/watch?v=Kn3llTjYS5E\n\nsai <- sai %>%\n  mutate(lag1 = lag(sold, 1),\n         lag2 = lag(sold, 2))\n\n# https://www.rdocumentation.org/packages/zoo/versions/1.8-12/topics/rollmean\nsai <- sai %>%\n  group_by(item_no) %>%\n  mutate(rolling_4wk_avg = zoo::rollmean(sold, k = 4, fill = NA, align = \"right\")) %>%\n  ungroup()\n\nwrite.csv(sai, \"FEinventory.csv\")\n\n\n\n\nmonth_abbreviations <- c(\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\")\n\nsai_average <-  sai %>%\n  filter(wk_ending_year == 2022) %>% \n  group_by(month) %>% \n  summarise(month_average = mean(sold))\n\n\n\nbar <- sai %>%\n    filter(wk_ending_year == 2022) %>% \n    mutate(month = factor(month, levels = 1:12, labels = month_abbreviations)) %>%\n  ggplot(aes(x = month, y = sold)) +\n  geom_bar(stat = \"sum\", fill = \"#DF5875\", alpha = 0.75) +\n  labs(x = \"Month\", y = \"Total Sold\", title = \"Total Sold by Month\",\n       caption =  \" figure 3.1\") +\n  scale_y_continuous(labels = scales::comma_format()) +\n  theme_art_nouveau() +\n  theme(legend.position = \"none\")\n\ndot <-  sai_average %>%\n  mutate(month = factor(month, levels = 1:12, labels = month_abbreviations)) %>%\n  ggplot(aes(x = month, y = month_average)) +\n  geom_point(size = 3) +\n  geom_point(size = 4, shape = 8, alpha = 0.75) +\n  geom_text(aes(label = round(month_average, 2)), nudge_y = 1.5) +  #closer annotations\n  scale_y_continuous(position = \"right\") +\n  labs(x = \"Month\", y = \"\", title = \"Average Items Sold by Month\", caption = \"figure 3.2\") +\n  theme_art_nouveau() +\n  theme(axis.text.y = element_blank())  \n \n  \n\ngridExtra::grid.arrange(bar, dot, ncol = 2)\n```\n\n::: {.cell-output-display}\n![](pi_files/figure-html/unnamed-chunk-4-1.png){width=960}\n:::\n:::\n\n\n###### **figure 3.** *The bar graph displays the total sales volume by month. July stands out as the peak season, whereas November and December show lower inventory movement. However, the average number of items sold in a month is relatively low compared to the totals. This suggests the presence of numerous zeros, which are affecting the overall average.*\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# #https://www.geeksforgeeks.org/visualization-of-a-correlation-matrix-using-ggplot2-in-r/\n# theme_art_nov_minimal <- function() {\n#   theme(\n#     text = element_text(family = 'EB Garamond'),\n#     panel.grid = element_blank(),\n#     panel.border = element_blank(),\n#     panel.background = element_rect(fill = \"#FEE8E1\", color = \"#DF5875\"),\n#     panel.grid.major = element_line(color = \"#DF5875\", linetype = \"dotted\", linewidth = 0.5),\n#     panel.grid.minor = element_blank(),\n#     axis.line = element_line(color = \"#DF5875\", linewidth = 1),\n#     legend.position = \"bottom\"\n#   )\n# }\n# \n# \n# sai %>%\n#   select(week, month, lag1, lag2, rolling_4wk_avg, best_seller, sold) %>%\n#   ggpairs(\n#     upper = list(continuous = \"cor\"),\n#     lower = list(continuous = \"points\"),\n#     diag = list(continuous = \"densityDiag\")\n#   ) +\n#   theme_art_nov_minimal()\n```\n:::\n\n\n###### **figure 4.** *The corelation matrix.*\n\n\\\n\\\n\\\n<br>\n\n### Splitting the Data\n\nWith the variables now set, it's time to divide the data for the training and testing of the predictive model. Ideally, the previous year would serve as a training ground, providing a foundation for testing the model. However, due to the critical nature of maintaining the temporal order, I segmented the data by inventory type, 75% into training to test on the remaining 25%.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# create a list of all items to randomly select\nset.seed(1985)\nitems_sample_list <-  unique(sai$item_no) %>% \n  sample(366)\n# 75% of the data\n\n\n# splitting the inventory by item type to keep the temporal order\n\nis_train <-  sai %>% \n  filter(item_no %in% items_sample_list) %>% \n  dplyr::select(\n    item_no,\n    week,\n    month,\n    lag1,\n    lag2,\n    rolling_4wk_avg,\n    best_seller, \n    sold) #not sure why i had to include the dplyr package\n\n\nis_test<-  sai %>% \n  filter(!(item_no %in% items_sample_list)) %>% \n  dplyr::select(\n    item_no,\n    week,\n    month,\n    lag1,\n    lag2,\n    rolling_4wk_avg,\n    best_seller, \n    sold) #not sure why i had to include the dplyr package\n\n\n## story telling purposes only\n# https://r-graph-gallery.com/piechart-ggplot2.html\npiecha <- data.frame(\n  split = c(\"train\", \"test\"),\n  percentage = c(0.75, 0.25)\n)\n\npiecha <- piecha %>%\n  arrange(desc(split)) %>%\n  mutate(cumulative_percentage = cumsum(percentage) - percentage / 2,\n         label = paste(split, \": \", scales::percent(percentage)))\n\n# do you like fancy pie?\nggplot(piecha , aes(x=\"\", y=percentage, fill=split, label = label)) +\n  geom_bar(stat=\"identity\", width=2, color=\"white\", alpha=0.6) +\n  coord_polar(\"y\", start=0) +\n  scale_fill_manual(values=c(\"#68576D\", \"#DF5875\"), guide = \"none\") +\n  theme_art_nouveau() +\n  geom_text(aes(y = cumulative_percentage), color = \"white\", size = 7, face = \"bold\") +\n  theme(axis.title = element_blank(),\n        axis.text = element_blank()) +\n  labs(title = \"The Data Split\",\n              caption = \"figure 5\")\n```\n\n::: {.cell-output-display}\n![](pi_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nList of 1\n $ plot.title:List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : NULL\n  ..$ hjust        : num 0.5\n  ..$ vjust        : NULL\n  ..$ angle        : NULL\n  ..$ lineheight   : NULL\n  ..$ margin       : NULL\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi FALSE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n - attr(*, \"class\")= chr [1:2] \"theme\" \"gg\"\n - attr(*, \"complete\")= logi FALSE\n - attr(*, \"validate\")= logi TRUE\n```\n:::\n:::\n\n\n\\\n\\\n\\\n<br>\n\n## Model Feature Selection\n\nThe next step of the project involves selecting the best model using stepwise selection. It's the iterative process of adding and removing predictors based on their statistical significance. However, it should be used with caution. The inclusion of irrelevant variables can lead to unnecessary complexity in the resulting model and can inflate the variance of prediction errors.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# https://youtu.be/IScjygOnO0w\n# forward Stepwise Selection\n# nvmax = 8 specifies the maximum number of predictors to incorporate in the model.\nis_mod <- regsubsets(sold ~ week + month + lag1 + lag2 + rolling_4wk_avg + best_seller,\n                       data = is_test, nbest = 2, method = \"exhaustive\")\nis_mod_summary_mx <- with(summary(is_mod), data.frame(rsq,adjr2, cp, rss, outmat))\n\nis_mod_summary_mx$predictors <- c(1,1,2,2,3,3,4,4,5,5,6) # for graphing\nis_mod_summary_mx$model <- c('a','b','a','b','a','b','a','b','a', 'b', 'a') # for graphing\n\n# update this too  look more like my other graphs\n#https://posit.co/blog/great-looking-tables-gt-0-2/# turn results into a pretty table\n# is_mod_summary_mx\n\nis_mod_summary_mx %>% \n  mutate(rsq = round(rsq, 1), \n         adjr2 = round(adjr2, 1), \n         cp = scales::comma(round(cp, 1)),\n         rss = scales::comma(rss)) %>%\n  rename(`4WK ROLLING AVG` = rolling_4wk_avg, `BEST SELLER` = best_seller) %>% \n  select(predictors, model, everything()) %>%\n  gt(rowname_col = \"predictors\") %>%\n  tab_header(title = md(\"Model Comparison\")) %>% \n    tab_options(\n    grand_summary_row.background.color = \"#D35C9E\",\n    heading.background.color = \"#EFFBFC\",\n    column_labels.background.color = \"#EFFBFC\",\n    stub.background.color = \"#EFFBFC\",\n    table.font.color = \"#323232\",\n    stub.border.style = \"dashed\",\n    stub.border.width = \"1px\",\n    table.width = \"60%\") %>%\n    tab_spanner(\n    label = \"predictors \",\n    columns = c(week, month, lag1, lag2, `4WK ROLLING AVG`, `BEST SELLER`)) %>%\n \n  cols_align(align = \"center\", columns = cp) %>% \n  cols_align(align = \"center\", columns = rss) %>%\n  opt_all_caps() %>% \n  opt_table_font(\n    font = google_font(name = \"EB Garamond\")) %>% \n  tab_source_note(source_note = md(\"Table 1\"))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"hwwogwbpzq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#hwwogwbpzq table {\n  font-family: 'EB Garamond', system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#hwwogwbpzq thead, #hwwogwbpzq tbody, #hwwogwbpzq tfoot, #hwwogwbpzq tr, #hwwogwbpzq td, #hwwogwbpzq th {\n  border-style: none;\n}\n\n#hwwogwbpzq p {\n  margin: 0;\n  padding: 0;\n}\n\n#hwwogwbpzq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #323232;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: 60%;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#hwwogwbpzq .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#hwwogwbpzq .gt_title {\n  color: #323232;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#hwwogwbpzq .gt_subtitle {\n  color: #323232;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#hwwogwbpzq .gt_heading {\n  background-color: #EFFBFC;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hwwogwbpzq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hwwogwbpzq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hwwogwbpzq .gt_col_heading {\n  color: #323232;\n  background-color: #EFFBFC;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#hwwogwbpzq .gt_column_spanner_outer {\n  color: #323232;\n  background-color: #EFFBFC;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#hwwogwbpzq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#hwwogwbpzq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#hwwogwbpzq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#hwwogwbpzq .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#hwwogwbpzq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #323232;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#hwwogwbpzq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #323232;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hwwogwbpzq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#hwwogwbpzq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#hwwogwbpzq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#hwwogwbpzq .gt_stub {\n  color: #323232;\n  background-color: #EFFBFC;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-right-style: dashed;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hwwogwbpzq .gt_stub_row_group {\n  color: #323232;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#hwwogwbpzq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#hwwogwbpzq .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#hwwogwbpzq .gt_summary_row {\n  color: #323232;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hwwogwbpzq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#hwwogwbpzq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#hwwogwbpzq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hwwogwbpzq .gt_grand_summary_row {\n  color: #FFFFFF;\n  background-color: #D35C9E;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hwwogwbpzq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#hwwogwbpzq .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hwwogwbpzq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#hwwogwbpzq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hwwogwbpzq .gt_footnotes {\n  color: #323232;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hwwogwbpzq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hwwogwbpzq .gt_sourcenotes {\n  color: #323232;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hwwogwbpzq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hwwogwbpzq .gt_left {\n  text-align: left;\n}\n\n#hwwogwbpzq .gt_center {\n  text-align: center;\n}\n\n#hwwogwbpzq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#hwwogwbpzq .gt_font_normal {\n  font-weight: normal;\n}\n\n#hwwogwbpzq .gt_font_bold {\n  font-weight: bold;\n}\n\n#hwwogwbpzq .gt_font_italic {\n  font-style: italic;\n}\n\n#hwwogwbpzq .gt_super {\n  font-size: 65%;\n}\n\n#hwwogwbpzq .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#hwwogwbpzq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#hwwogwbpzq .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#hwwogwbpzq .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#hwwogwbpzq .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#hwwogwbpzq .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#hwwogwbpzq .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"12\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Model Comparison</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"model\">model</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"rsq\">rsq</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"adjr2\">adjr2</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"cp\">cp</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"rss\">rss</th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"6\" scope=\"colgroup\" id=\"predictors \">\n        <span class=\"gt_column_spanner\">predictors </span>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"week\">week</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"month\">month</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"lag1\">lag1</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"lag2\">lag2</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"4WK ROLLING AVG\">4WK ROLLING AVG</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"BEST SELLER\">BEST SELLER</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_right gt_stub\">1</th>\n<td headers=\"stub_1_1 model\" class=\"gt_row gt_left\">a</td>\n<td headers=\"stub_1_1 rsq\" class=\"gt_row gt_right\">0.4</td>\n<td headers=\"stub_1_1 adjr2\" class=\"gt_row gt_right\">0.4</td>\n<td headers=\"stub_1_1 cp\" class=\"gt_row gt_center\">3,641.2</td>\n<td headers=\"stub_1_1 rss\" class=\"gt_row gt_center\">347,410,480</td>\n<td headers=\"stub_1_1 week\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_1 month\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_1 lag1\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_1 lag2\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_1 4WK ROLLING AVG\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_1 BEST SELLER\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_right gt_stub\">1</th>\n<td headers=\"stub_1_2 model\" class=\"gt_row gt_left\">b</td>\n<td headers=\"stub_1_2 rsq\" class=\"gt_row gt_right\">0.1</td>\n<td headers=\"stub_1_2 adjr2\" class=\"gt_row gt_right\">0.1</td>\n<td headers=\"stub_1_2 cp\" class=\"gt_row gt_center\">7,962.8</td>\n<td headers=\"stub_1_2 rss\" class=\"gt_row gt_center\">499,689,200</td>\n<td headers=\"stub_1_2 week\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_2 month\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_2 lag1\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_2 lag2\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_2 4WK ROLLING AVG\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_2 BEST SELLER\" class=\"gt_row gt_right\">*</td></tr>\n    <tr><th id=\"stub_1_3\" scope=\"row\" class=\"gt_row gt_right gt_stub\">2</th>\n<td headers=\"stub_1_3 model\" class=\"gt_row gt_left\">a</td>\n<td headers=\"stub_1_3 rsq\" class=\"gt_row gt_right\">0.5</td>\n<td headers=\"stub_1_3 adjr2\" class=\"gt_row gt_right\">0.5</td>\n<td headers=\"stub_1_3 cp\" class=\"gt_row gt_center\">1,860.3</td>\n<td headers=\"stub_1_3 rss\" class=\"gt_row gt_center\">284,585,840</td>\n<td headers=\"stub_1_3 week\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_3 month\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_3 lag1\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_3 lag2\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_3 4WK ROLLING AVG\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_3 BEST SELLER\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_4\" scope=\"row\" class=\"gt_row gt_right gt_stub\">2</th>\n<td headers=\"stub_1_4 model\" class=\"gt_row gt_left\">b</td>\n<td headers=\"stub_1_4 rsq\" class=\"gt_row gt_right\">0.4</td>\n<td headers=\"stub_1_4 adjr2\" class=\"gt_row gt_right\">0.4</td>\n<td headers=\"stub_1_4 cp\" class=\"gt_row gt_center\">2,809.3</td>\n<td headers=\"stub_1_4 rss\" class=\"gt_row gt_center\">318,026,117</td>\n<td headers=\"stub_1_4 week\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_4 month\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_4 lag1\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_4 lag2\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_4 4WK ROLLING AVG\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_4 BEST SELLER\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_5\" scope=\"row\" class=\"gt_row gt_right gt_stub\">3</th>\n<td headers=\"stub_1_5 model\" class=\"gt_row gt_left\">a</td>\n<td headers=\"stub_1_5 rsq\" class=\"gt_row gt_right\">0.6</td>\n<td headers=\"stub_1_5 adjr2\" class=\"gt_row gt_right\">0.6</td>\n<td headers=\"stub_1_5 cp\" class=\"gt_row gt_center\">7.2</td>\n<td headers=\"stub_1_5 rss\" class=\"gt_row gt_center\">219,215,369</td>\n<td headers=\"stub_1_5 week\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_5 month\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_5 lag1\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_5 lag2\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_5 4WK ROLLING AVG\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_5 BEST SELLER\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_6\" scope=\"row\" class=\"gt_row gt_right gt_stub\">3</th>\n<td headers=\"stub_1_6 model\" class=\"gt_row gt_left\">b</td>\n<td headers=\"stub_1_6 rsq\" class=\"gt_row gt_right\">0.5</td>\n<td headers=\"stub_1_6 adjr2\" class=\"gt_row gt_right\">0.5</td>\n<td headers=\"stub_1_6 cp\" class=\"gt_row gt_center\">1,862.2</td>\n<td headers=\"stub_1_6 rss\" class=\"gt_row gt_center\">284,582,007</td>\n<td headers=\"stub_1_6 week\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_6 month\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_6 lag1\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_6 lag2\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_6 4WK ROLLING AVG\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_6 BEST SELLER\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_7\" scope=\"row\" class=\"gt_row gt_right gt_stub\">4</th>\n<td headers=\"stub_1_7 model\" class=\"gt_row gt_left\">a</td>\n<td headers=\"stub_1_7 rsq\" class=\"gt_row gt_right\">0.6</td>\n<td headers=\"stub_1_7 adjr2\" class=\"gt_row gt_right\">0.6</td>\n<td headers=\"stub_1_7 cp\" class=\"gt_row gt_center\">9.1</td>\n<td headers=\"stub_1_7 rss\" class=\"gt_row gt_center\">219,211,953</td>\n<td headers=\"stub_1_7 week\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_7 month\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_7 lag1\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_7 lag2\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_7 4WK ROLLING AVG\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_7 BEST SELLER\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_8\" scope=\"row\" class=\"gt_row gt_right gt_stub\">4</th>\n<td headers=\"stub_1_8 model\" class=\"gt_row gt_left\">b</td>\n<td headers=\"stub_1_8 rsq\" class=\"gt_row gt_right\">0.6</td>\n<td headers=\"stub_1_8 adjr2\" class=\"gt_row gt_right\">0.6</td>\n<td headers=\"stub_1_8 cp\" class=\"gt_row gt_center\">9.1</td>\n<td headers=\"stub_1_8 rss\" class=\"gt_row gt_center\">219,214,795</td>\n<td headers=\"stub_1_8 week\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_8 month\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_8 lag1\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_8 lag2\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_8 4WK ROLLING AVG\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_8 BEST SELLER\" class=\"gt_row gt_right\">*</td></tr>\n    <tr><th id=\"stub_1_9\" scope=\"row\" class=\"gt_row gt_right gt_stub\">5</th>\n<td headers=\"stub_1_9 model\" class=\"gt_row gt_left\">a</td>\n<td headers=\"stub_1_9 rsq\" class=\"gt_row gt_right\">0.6</td>\n<td headers=\"stub_1_9 adjr2\" class=\"gt_row gt_right\">0.6</td>\n<td headers=\"stub_1_9 cp\" class=\"gt_row gt_center\">5.0</td>\n<td headers=\"stub_1_9 rss\" class=\"gt_row gt_center\">218,998,851</td>\n<td headers=\"stub_1_9 week\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_9 month\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_9 lag1\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_9 lag2\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_9 4WK ROLLING AVG\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_9 BEST SELLER\" class=\"gt_row gt_right\"> </td></tr>\n    <tr><th id=\"stub_1_10\" scope=\"row\" class=\"gt_row gt_right gt_stub\">5</th>\n<td headers=\"stub_1_10 model\" class=\"gt_row gt_left\">b</td>\n<td headers=\"stub_1_10 rsq\" class=\"gt_row gt_right\">0.6</td>\n<td headers=\"stub_1_10 adjr2\" class=\"gt_row gt_right\">0.6</td>\n<td headers=\"stub_1_10 cp\" class=\"gt_row gt_center\">11.0</td>\n<td headers=\"stub_1_10 rss\" class=\"gt_row gt_center\">219,211,372</td>\n<td headers=\"stub_1_10 week\" class=\"gt_row gt_right\"> </td>\n<td headers=\"stub_1_10 month\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_10 lag1\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_10 lag2\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_10 4WK ROLLING AVG\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_10 BEST SELLER\" class=\"gt_row gt_right\">*</td></tr>\n    <tr><th id=\"stub_1_11\" scope=\"row\" class=\"gt_row gt_right gt_stub\">6</th>\n<td headers=\"stub_1_11 model\" class=\"gt_row gt_left\">a</td>\n<td headers=\"stub_1_11 rsq\" class=\"gt_row gt_right\">0.6</td>\n<td headers=\"stub_1_11 adjr2\" class=\"gt_row gt_right\">0.6</td>\n<td headers=\"stub_1_11 cp\" class=\"gt_row gt_center\">7.0</td>\n<td headers=\"stub_1_11 rss\" class=\"gt_row gt_center\">218,998,262</td>\n<td headers=\"stub_1_11 week\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_11 month\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_11 lag1\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_11 lag2\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_11 4WK ROLLING AVG\" class=\"gt_row gt_right\">*</td>\n<td headers=\"stub_1_11 BEST SELLER\" class=\"gt_row gt_right\">*</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"12\">Table 1</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n:::\n\n```{.r .cell-code}\n # caption = table 1 \n```\n:::\n\n\n###### **table 1. the stepwise selection went through an exhaustive process to chose the best 2 models by number of predictors, the table above shows the comparison summary of the best models. Each row represents a model configuration, specified by the model type (a or b) and the predictor variables used (week, month, lag1, lag2, 4-week rolling average, best seller). The table displays several goodness-of-fit statistics for each model, including the coefficient of determination (R-square), the adjusted R-square, the Mallows' Cp, and the residual sum of squares (RSS). An asterisk (*) in the predictors' columns indicates that the predictor was included in the model.\"**\n\n\n**interpretations**: \n\n\nRSQ,\tADJR2,\tCP,\tRSS; these are measures for evaluating and comparing the goodness of fit.These metrics should not be used blindly but together in the context with other measures and domain knowledge.\n\n\n### **RSQ (R-squared)** proportion of explained variance:\nWhen R-squared is high, it indicates that the model can explain a lot of the variability in the outcome, which means the prediction error is small. However, a low R-squared indicates that the model doesn't explain much of the variability in the outcome, implying larger residuals.\n\nBased on the model summary, models 3a, 4a, 4b, 5a, 5b, and 6a all have the highest R-squared values of 0.6, indicating that these models explain a significant portion of the variance in the outcome variable.\n\n### **ADJR2 (Adjusted R-squared)** tradeoff between model complexity and goodness of fit:\nThe adjusted R-squared is a modified version of R-squared that adjusts for the number of predictors in the model. Unlike R-squared, it incorporates the model's degrees of freedom. The adjusted R-squared value only increases if the new variable improves the model more than expected by chance, and it decreases when a predictor improves the model less than expected by chance. Thus, a lower adjusted R-squared can often be due to large residuals, especially when the model is overly complex (i.e., includes too many predictors).\n\nAs per the model summary, models 3a, 4a, 4b, 5a, 5b, and 6a all have the highest adjusted R-squared values of 0.6, showing that these models balance model complexity and goodness-of-fit reasonably well.\n\n\n### **Cp (Mallows' Cp)** bias or the prediction error:\nthe model will not fit the data very well if the predictions are way off which leads to large residuals\n\nBased on the  model summary, model 5a has the lowest  Cp. A Cp value close to the total number of predictors suggests that the model is well-fitted. Lower values indicate a better model fit. What it does is it estimates the magnitude of bias, in this case, prediction error, present in predicted values when important features are missing. So, we're measuring large residuals.\n\n\n ### **RSS (Residual Sum of Squares)** total prediction error:\n When the RSS is high, it means the predictions are far off from the actual values, which results in large residuals.\n\nModel 6a has the lowest RSS value of 218,998,262. This indicates that among all the models, model 6a's predictions are closest to the actual values, leading to smaller residuals.\n\n\n\n### Model Evaluation\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# make tghis chart prettier\ngcolors <- c(\"#68576D\", \"#DF5875\")\n\nis_mod_summary_mx %>%\n  pivot_longer(c(adjr2, cp), names_to = \"metric\", values_to = \"value\") %>%\n  ggplot(aes(x = predictors, y = value, color = model)) +\n  geom_line(show.legend = FALSE, size = 1, alpha = .5 ) +\n    geom_point(size = 4, alpha = 0.5)+\n  facet_wrap(~metric, scales = \"free\") +\n  scale_x_continuous(breaks = 1:6) +\n  scale_color_manual(values = gcolors) +\n  labs(x = \"predictors\", y = \"metric\", title = \"Number of Predictors by ADJR2 and CP\",\n       caption =  \" figure 6\") +\n  theme_art_nouveau() \n```\n\n::: {.cell-output-display}\n![](pi_files/figure-html/unnamed-chunk-8-1.png){width=960}\n:::\n\n```{.r .cell-code}\n# how can i make the value label larger on this?\n```\n:::\n\n\n###### **Figure 6. explain this graph** \n\nI see that the more predictors the great the adjr2 and the lower the cp, which is be expected. there appears to be diminishing returns at 4 predictors.\n\nmodel a has more optimal score on this compared to model b\n\nwhy too many predictors are bad reason xyz\n\n\\[interpret the graph\\]\n\nexplain why this is the best one what do each of these things tell me? - rsq -\\> highest r squared, explains the variability in the model - adjr2 - \\> highest - cp -\\> smallest - rss -\\> smallest\n\nI want to take my models through one more level os scrunity. having trouble choosing, i spent a lot of time making my variables so lets look at AIC several models what is AIC? Lower AIC values indicate a better-fit model, and a model with a delta-AIC (the difference between the two AIC values being compared) of more than -2 is considered significantly better than the model it is being compared to\n\nfind the coefficients and (Akaike Information Criterion) AIC Multiple linear regression compare the three best models\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#https://emilhvitfeldt.github.io/ISLR-tidymodels-labs/03-linear-regression.html\n\n# tidy model way\n\n specs <- linear_reg() %>%\n  set_mode(\"regression\") %>%\n  set_engine(\"lm\")\n\nlm_3 <- specs %>%\n  fit(sold~ lag1 + lag2 + rolling_4wk_avg , data = is_train)\n\nlm_4 <- specs %>%\n  fit(sold~ month + lag1 + lag2 + rolling_4wk_avg , data = is_train)\n\nlm_5 <- specs %>%\n  fit(sold~ month + week + lag1 + lag2 + rolling_4wk_avg , data = is_train)\n\nmod_compare <-  rbind(glance(lm_3),glance(lm_4),glance(lm_5))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#\nmod_compare %>% \n gt(rowname_col = \"df\") %>%\n  tab_header(title = md(\"model comparison\")) %>% \n  cols_align(align = \"left\") %>% \n    tab_options(\n    grand_summary_row.background.color = \"#D35C9E\",\n    heading.background.color = \"#EFFBFC\",\n    column_labels.background.color = \"#EFFBFC\",\n    stub.background.color = \"#EFFBFC\",\n    table.font.color = \"#323232\",\n    stub.border.style = \"dashed\",\n    stub.border.width = \"1px\",\n    table.width = \"60%\"\n  ) %>%\n  opt_all_caps() \n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"nbtbkarcnp\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#nbtbkarcnp table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#nbtbkarcnp thead, #nbtbkarcnp tbody, #nbtbkarcnp tfoot, #nbtbkarcnp tr, #nbtbkarcnp td, #nbtbkarcnp th {\n  border-style: none;\n}\n\n#nbtbkarcnp p {\n  margin: 0;\n  padding: 0;\n}\n\n#nbtbkarcnp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #323232;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: 60%;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#nbtbkarcnp .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#nbtbkarcnp .gt_title {\n  color: #323232;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#nbtbkarcnp .gt_subtitle {\n  color: #323232;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#nbtbkarcnp .gt_heading {\n  background-color: #EFFBFC;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nbtbkarcnp .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nbtbkarcnp .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nbtbkarcnp .gt_col_heading {\n  color: #323232;\n  background-color: #EFFBFC;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#nbtbkarcnp .gt_column_spanner_outer {\n  color: #323232;\n  background-color: #EFFBFC;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#nbtbkarcnp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#nbtbkarcnp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#nbtbkarcnp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#nbtbkarcnp .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#nbtbkarcnp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #323232;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#nbtbkarcnp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #323232;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#nbtbkarcnp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#nbtbkarcnp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#nbtbkarcnp .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#nbtbkarcnp .gt_stub {\n  color: #323232;\n  background-color: #EFFBFC;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-right-style: dashed;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nbtbkarcnp .gt_stub_row_group {\n  color: #323232;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#nbtbkarcnp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#nbtbkarcnp .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#nbtbkarcnp .gt_summary_row {\n  color: #323232;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nbtbkarcnp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#nbtbkarcnp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#nbtbkarcnp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nbtbkarcnp .gt_grand_summary_row {\n  color: #FFFFFF;\n  background-color: #D35C9E;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nbtbkarcnp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#nbtbkarcnp .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nbtbkarcnp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#nbtbkarcnp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nbtbkarcnp .gt_footnotes {\n  color: #323232;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nbtbkarcnp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nbtbkarcnp .gt_sourcenotes {\n  color: #323232;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nbtbkarcnp .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nbtbkarcnp .gt_left {\n  text-align: left;\n}\n\n#nbtbkarcnp .gt_center {\n  text-align: center;\n}\n\n#nbtbkarcnp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#nbtbkarcnp .gt_font_normal {\n  font-weight: normal;\n}\n\n#nbtbkarcnp .gt_font_bold {\n  font-weight: bold;\n}\n\n#nbtbkarcnp .gt_font_italic {\n  font-style: italic;\n}\n\n#nbtbkarcnp .gt_super {\n  font-size: 65%;\n}\n\n#nbtbkarcnp .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#nbtbkarcnp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#nbtbkarcnp .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#nbtbkarcnp .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#nbtbkarcnp .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#nbtbkarcnp .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#nbtbkarcnp .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"12\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>model comparison</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"r.squared\">r.squared</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"adj.r.squared\">adj.r.squared</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"sigma\">sigma</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"statistic\">statistic</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p.value\">p.value</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"logLik\">logLik</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"AIC\">AIC</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"BIC\">BIC</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"deviance\">deviance</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"df.residual\">df.residual</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"nobs\">nobs</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_left gt_stub\">3</th>\n<td headers=\"stub_1_1 r.squared\" class=\"gt_row gt_left\">0.5969407</td>\n<td headers=\"stub_1_1 adj.r.squared\" class=\"gt_row gt_left\">0.5968760</td>\n<td headers=\"stub_1_1 sigma\" class=\"gt_row gt_left\">133.2103</td>\n<td headers=\"stub_1_1 statistic\" class=\"gt_row gt_left\">9212.961</td>\n<td headers=\"stub_1_1 p.value\" class=\"gt_row gt_left\">0</td>\n<td headers=\"stub_1_1 logLik\" class=\"gt_row gt_left\">-117796.7</td>\n<td headers=\"stub_1_1 AIC\" class=\"gt_row gt_left\">235603.3</td>\n<td headers=\"stub_1_1 BIC\" class=\"gt_row gt_left\">235642.5</td>\n<td headers=\"stub_1_1 deviance\" class=\"gt_row gt_left\">331157049</td>\n<td headers=\"stub_1_1 df.residual\" class=\"gt_row gt_left\">18662</td>\n<td headers=\"stub_1_1 nobs\" class=\"gt_row gt_left\">18666</td></tr>\n    <tr><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_left gt_stub\">4</th>\n<td headers=\"stub_1_2 r.squared\" class=\"gt_row gt_left\">0.5969504</td>\n<td headers=\"stub_1_2 adj.r.squared\" class=\"gt_row gt_left\">0.5968640</td>\n<td headers=\"stub_1_2 sigma\" class=\"gt_row gt_left\">133.2123</td>\n<td headers=\"stub_1_2 statistic\" class=\"gt_row gt_left\">6909.627</td>\n<td headers=\"stub_1_2 p.value\" class=\"gt_row gt_left\">0</td>\n<td headers=\"stub_1_2 logLik\" class=\"gt_row gt_left\">-117796.4</td>\n<td headers=\"stub_1_2 AIC\" class=\"gt_row gt_left\">235604.9</td>\n<td headers=\"stub_1_2 BIC\" class=\"gt_row gt_left\">235651.9</td>\n<td headers=\"stub_1_2 deviance\" class=\"gt_row gt_left\">331149135</td>\n<td headers=\"stub_1_2 df.residual\" class=\"gt_row gt_left\">18661</td>\n<td headers=\"stub_1_2 nobs\" class=\"gt_row gt_left\">18666</td></tr>\n    <tr><th id=\"stub_1_3\" scope=\"row\" class=\"gt_row gt_left gt_stub\">5</th>\n<td headers=\"stub_1_3 r.squared\" class=\"gt_row gt_left\">0.5969742</td>\n<td headers=\"stub_1_3 adj.r.squared\" class=\"gt_row gt_left\">0.5968663</td>\n<td headers=\"stub_1_3 sigma\" class=\"gt_row gt_left\">133.2119</td>\n<td headers=\"stub_1_3 statistic\" class=\"gt_row gt_left\">5527.954</td>\n<td headers=\"stub_1_3 p.value\" class=\"gt_row gt_left\">0</td>\n<td headers=\"stub_1_3 logLik\" class=\"gt_row gt_left\">-117795.9</td>\n<td headers=\"stub_1_3 AIC\" class=\"gt_row gt_left\">235605.8</td>\n<td headers=\"stub_1_3 BIC\" class=\"gt_row gt_left\">235660.6</td>\n<td headers=\"stub_1_3 deviance\" class=\"gt_row gt_left\">331129521</td>\n<td headers=\"stub_1_3 df.residual\" class=\"gt_row gt_left\">18660</td>\n<td headers=\"stub_1_3 nobs\" class=\"gt_row gt_left\">18666</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n\n```{.r .cell-code}\n # caption = table 2\n\n# \n# is_mod_summary_mx %>% \n#   mutate(rsq = round(rsq, 1), \n#          adjr2 = round(adjr2, 1), \n#          cp = scales::comma(round(cp, 1)),\n#          rss = scales::comma(rss)) %>%\n#   rename(`4WK ROLLING AVG` = rolling_4wk_avg, `BEST SELLER` = best_seller) %>% \n#   select(predictors, model, everything()) %>%\n#   gt(rowname_col = \"predictors\") %>%\n#   tab_header(title = md(\"Model Comparison\")) %>% \n#     tab_options(\n#     grand_summary_row.background.color = \"#D35C9E\",\n#     heading.background.color = \"#EFFBFC\",\n#     column_labels.background.color = \"#EFFBFC\",\n#     stub.background.color = \"#EFFBFC\",\n#     table.font.color = \"#323232\",\n#     stub.border.style = \"dashed\",\n#     stub.border.width = \"1px\",\n#     table.width = \"60%\") %>%\n#     tab_spanner(\n#     label = \"predictors \",\n#     columns = c(week, month, lag1, lag2, `4WK ROLLING AVG`, `BEST SELLER`)) %>%\n#  \n#   cols_align(align = \"center\", columns = cp) %>% \n#   cols_align(align = \"center\", columns = rss) %>%\n#   opt_all_caps() %>% \n#   opt_table_font(\n#     font = google_font(name = \"EB Garamond\"))\n# \n```\n:::\n\n\n###### **table 2. explain this table** \n\ninterpret the results\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrain_precict <- bind_cols(\n  predict(lm_3, new_data = is_train, type = \"conf_int\"),\n  is_train\n) %>%\n  select(item_no, week, sold, .pred_lower, .pred_upper)\n\n# graph the results\n```\n:::\n\n\n###### **Figure 7. explain this graph** \n\ncompare the train model against the test\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_3 <- specs %>%\n  fit(sold~ lag1 + lag2 + rolling_4wk_avg , data = is_train)\n\nlm_3t <- specs %>%\n  fit(sold~ lag1 + lag2 + rolling_4wk_avg , data = is_test)\n\ntt_compare <-  rbind(glance(lm_3),glance(lm_3t))\ntt_compare$mod <-  c(\"train\", \"test\")\n\n# create a visualization\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nactual_predicted <- bind_cols(\n  predict(lm_3t, new_data = is_train, type = \"conf_int\"),\n  is_train\n) %>%\n  select(item_no, week, sold, .pred_lower, .pred_upper)\n```\n:::\n\n\n###### **Figure 8. explain this graph** \n\n### Conclusion\n",
    "supporting": [
      "pi_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}